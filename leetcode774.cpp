#include <queue>
#include <vector>
#include <limits>
#include <algorithm>
#include <iostream>

struct Node
{
    int dist;
    int k;
    double fracDist;

    Node(int _dist)
        :   dist(_dist)
        ,   k(1)
        ,   fracDist(_dist)
    {}

    void increment()
    {
        k++;
        fracDist = (static_cast<double>(dist))/k;
    }
};

double minmaxGasDistPQ(std::vector<int>& stations, int k)
{
    auto func = [](const Node& l, const Node& r)
    {
        return l.fracDist < r.fracDist;
    };
    std::priority_queue<Node, std::vector<Node>, decltype(func)> pq(func);
    for(int i = 1;  i < stations.size();    i++)
    {
        pq.emplace(stations[i]-stations[i-1]);
    }
    while(k > 0)
    {
        Node top = pq.top();
        pq.pop();
        k--;
        top.increment();
        pq.emplace(top);
    }
    return pq.top().fracDist;
}

int possibleStationsPlaced(std::vector<int>& stations, int k, double possibleDist)
{
    int placed = 0;
    for(int i = 1;  i < stations.size();    i++)
    {
        placed += ((stations[i]-stations[i-1])/possibleDist);
    }
    return placed;
}

double minmaxGasDistBinSrch(std::vector<int>& stations, int k)
{
    double l = 1e-6;
    double r = std::numeric_limits<double>::min();
    for(int i = 1;  i < stations.size();    i++)
    {
        r = std::max<double>(r, stations[i]-stations[i-1]);
    }
    while(r - l > 1e-6)
    {
        double mid = (l+r)/2.0;
        if(possibleStationsPlaced(stations, k, mid) > k)
        {
            l = mid+1e-6;
        }
        else
        {
            r = mid;
        }
    }
    return r;
}

double minmaxGasDist(std::vector<int> stations, int k) {
    return minmaxGasDistBinSrch(stations, k);
}

int main()
{
    std::cout << minmaxGasDist({1,2,3,4,5,6,7,8,9,10}, 9) << std::endl;
    std::cout << minmaxGasDist({23,24,36,39,46,56,57,65,84,98}, 1) << std::endl;
    std::cout << minmaxGasDist({29624,51651,58733,98669,106834,112193,118327,131879,141855,304192,374096,383091,421379,498932,591316,641606,671528,674141,713958,752976,768951,847242,956173,1005148,1103205,1126959,1185641,
        1198981,1277840,1370721,1446904,1473220,1473537,1603295,1714076,1714703,1762777,1895787,1899227,1954659,2109451,2124625,2208061,2233962,2236176,2295005,2321746,2362860,2390311,2425460,2578902,2598439,
        2652638,2835817,2918926,2953822,2964738,2968827,2974115,3086535,3099261,3111901,3146688,3186764,3193079,3212362,3223459,3380061,3398770,3479354,3484949,3489267,3498852,3505227,3510800,3593003,3659884,3667947,3828309,
        3836861,3847365,3878762,3879913,3886350,3890987,3896882,3999070,4018544,4159181,4238218,4248932,4255880,4298488,4375926,4413833,4529067,4562346,4624676,4648401,4674676,4740235,4819614,4876092,4887655,4945660,5130679,
        5162811,5229557,5253031,5273445,5299534,5590890,5605817,5624275,5654936,5670885,5731984,5901229,5942232,6013071,6078110,6093177,6104043,6141452,6237430,6261713,6439465,6496824,6506356,6529911,6559547,6559593,6591694,
        6608265,6660330,6702274,6773729,6850709,6873865,6884794,6909350,7048251,7168770,7205303,7206685,7234344,7279349,7361643,7371288,7438907,7455099,7483636,7546678,7562709,7609275,7650015,7834046,7876261,7889105,7912267,
        7942224,7983049,7983659,8092529,8111041,8186539,8202672,8243614,8251145,8420305,8483783,8525214,8539724,8560994,8694669,8716060,8799029,8845071,8883875,8892986,8954391,9043950,9153104,9161801,9233370,9348568,9474810,
        9670912,9748445,9774013,9838738,9841928,9882988,9900145,9903585,10009287,10039508,10220441,10295879,10315438,10521611,10522147,10556954,10589229,10658406,10918515,11068495,11223207,11313970,11368506,11404645,11408340,
        11412307,11431921,11535996,11563044,11662052,11725906,11747833,11828508,11833513,11859936,11886431,11974470,12085935,12264414,12305586,12340089,12376749,12399417,12466329,12552405,12666622,12706503,12714289,12720851,
        12821893,12870313,12893704,12992558,13004514,13004814,13037204,13080210,13144479,13156556,13264350,13449851,13459547,13521470,13544201,13634624,13670125,13673736,13724979,13781213,13815452,13897086,13925516,13952405,
        14020126,14132005,14178311,14185538,14338079,14380223,14394888,14412919,14459408,14481931,14517431,14520953,14537654,14578702,14628372,14681951,14691342,14691350,14818505,14819958,14828375,14856439,14873821,14900855,
        14902042,14907258,14947204,15002883,15076652,15077152,15117110,15153793,15163684,15244650,15285610,15290545,15309343,15362518,15391434,15425716,15461558,15525726,15538530,15577438,15579329,15721491,15785677,15866638,
        15892746,15905911,15910509,15943657,16013464,16068821,16134638,16142249,16161263,16223140,16289400,16432503,16460875,16530632,16632206,16780915,16807287,16835418,16862359,16912716,16945760,16957870,16969212,17058654,
        17071921,17105071,17173277,17183373,17220124,17230517,17275967,17281486,17339464,17385284,17442210,17457817,17512269,17539757,17575008,17693615,17750588,17790266,17801897,17844848,17874646,18157679,18169930,18212013,
        18223965,18232964,18244244,18328254,18360715,18377992,18407536,18426588,18485518,18583971,18585931,18648877,18658661,18679660,18881803,18883553,18994806,19098848,19126918,19251283,19269094,19278715,19294662,19331647,
        19342361,19361989,19426520,19448803,19523817,19546138,19639670,19781672,19849282,19898800,19912380,19950791,20053853,20100458,20176154,20188842,20196907,20361338,20378131,20403698,20413525,20435179,20443662,20515578,
        20547492,20553211,20609263,20635168,20658988,20673099,20708128,20768599,20785001,20799081,20861052,20920484,20973317,21013801,21097637,21103531,21396506,21432522,21479308,21631265,21657972,21798201,21850701,21874860,
        21929591,21944385,21953496,21978450,22076878,22127944,22175942,22190257,22208302,22255965,22436957,22446272,22499459,22608969,22617697,22632368,22642702,22683601,22708171,22709356,22790275,22810456,22851210,22869776,
        22939517,22956206,23021632,23073537,23142617,23220056,23368820,23540178,23548636,23816944,23867870,23883707,24007276,24101023,24139980,24266635,24295853,24325485,24412087,24445853,24446899,24504244,24516610,24563455,
        24588973,24602003,24659191,24744608,24766451,24829887,24836139,24847264,24857830,24932637,25019488,25113057,25141743,25216964,25221909,25309106,25484700,25504057,25515909,25535822,25578918,25678904,25688768,25700131,
        25703368,25719006,25775770,25805265,25811905,25847653,25928280,25994526,26047377,26104992,26233230,26263339,26278335,26313451,26406012,26645390,26791634,26904388,26991881,27150750,27164893,27240996,27291064,27348986,
        27352461,27371937,27403238,27408584,27447038,27566902,27587142,27667454,27739001,27785193,27834117,27850848,27873220,27878652,27948506,27958856,27997332,28038464,28097832,28395522,28523219,28543820,28586486,28656300,
        28696995,28780697,28785319,28872111,28885823,28918539,28932395,29033509,29089949,29143538,29190377,29257063,29285031,29324197,29326798,29346495,29364991,29370609,29500742,29515994,29531188,29538616,29568578,29588386,
        29679743,29711437,29789948,29803550,29934365,29998279,30011529,30038543,30148639,30254634,30266642,30342871,30437253,30448547,30470109,30483353,30490431,30607799,30612024,30642277,30673546,30735056,30806376,30821023,
        30878810,30919097,30966662,30987632,31021830,31040730,31112216,31200772,31241236,31327354,31334812,31368584,31392596,31435902,31490652,31512616,31543614,31569143,31658860,31695392,31713500,31750101,31796456,31814586,
        31865792,31879179,31939332,31945951,31986402,32067105,32190058,32217980,32234537,32317600,32340124,32356679,32366224,32381865,32522981,32572593,32843938,32858765,32878122,32881513,32933144,32954179,33015002,33037450,
        33129021,33152949,33197815,33377284,33494158,33707213,33713087,33754106,33899670,33971277,33994712,34031918,34121177,34137301,34194988,34215872,34302041,34337304,34631902,34735478,34747070,34747960,34750140,34888754,
        34906199,34907238,34932595,34946050,35099111,35156812,35281662,35451274,35456346,35466450,35472658,35518208,35572129,35623193,35664882,35705450,35741773,35767678,35777914,35842959,35886642,35922586,35974562,36043636,
        36120218,36135091,36268385,36268849,36294055,36325679,36333024,36352879,36454375,36495131,36548656,36647193,36648888,36654733,36679503,36778296,36869173,36914910,36915718,36949587,37005968,37007168,37015492,37030792,
        37087084,37105799,37106717,37155898,37192913,37302798,37311813,37447769,37494322,37536748,37617052,37754487,37814275,37895593,37962531,37995109,38000956,38012362,38125971,38146974,38152138,38163866,38218627,38232531,
        38257186,38299845,38302847,38349563,38389946,38474476,38533184,38599464,38683217,38719202,38739745,38744798,38747327,38792168,38843144,38890716,38965546,38999410,39009667,39042047,39043112,39058022,39104181,39110844,
        39143065,39147231,39148019,39279854,39287801,39305465,39387460,39412191,39487200,39502229,39641299,39663465,39747548,39887180,39962470,39972593,40045446,40131672,40208118,40282047,40292882,40328588,40364857,40366049,
        40419412,40454403,40585701,40706606,40746280,40842615,40851714,40935263,41014548,41080858,41080925,41121236,41127441,41329830,41568942,41598231,41611575,41628100,41640576,41670857,41675908,41765568,41787118,41789579,
        41826409,41848820,41901062,41901105,41988095,42051651,42055757,42095685,42116861,42125171,42173363,42257307,42264074,42297701,42308633,42347473,42358238,42378904,42390554,42513549,42544227,42631664,42700642,42724987,
        42775803,42800934,42822497,42824374,42868068,42872085,42891443,42908493,42995118,43047880,43155846,43177968,43195376,43237387,43339300,43401008,43419894,43421395,43505684,43512155,43525668,43546418,43557331,43612254,
        43726465,43745406,43763504,43827397,43834240,43846287,44007580,44033333,44043858,44057539,44123465,44155725,44215208,44244804,44305510,44309660,44313056,44321195,44330697,44365686,44460180,44490664,44558489,44669374,
        44729663,44736985,44856504,44869827,44898249,44950375,45060169,45081156,45128724,45178276,45216990,45273614,45287597,45290248,45342486,45343357,45361768,45436039,45539618,45606644,45782992,45783411,45808603,45905824,
        45923828,45938567,45978557,46008457,46194562,46208492,46258574,46326562,46360247,46372194,46427324,46512745,46532672,46544512,46595995,46689521,46710499,46815703,46854629,46918483,46926014,46926823,46944767,46949864,
        47003195,47049313,47087341,47097808,47216013,47230006,47255015,47285260,47438078,47506553,47557578,47628450,47689731,47693975,47700306,47700438,47715130,47746922,47768096,47781079,47817048,47838623,47918795,48065115,
        48180255,48184159,48187927,48437994,48445439,48484218,48490642,48536241,48664453,48671373,48819014,48849241,48854011,48870350,48925753,48936651,48986874,48989015,48997406,49003713,49187230,49198712,49400888,49448335,
        49450879,49489186,49525282,49535441,49597790,49721980,49740958,49803548,49821257,49903511,49936691,49963707,49971955,49988583,50033939,50281521,50379779,50407894,50497125,50516939,50520322,50549242,50600903,50708818,
        50756715,50768038,50784331,50799345,50805214,50974408,51049827,51121669,51129187,51348185,51407764,51470645,51679176,51704895,51727306,51739580,51831682,51868765,51934517,51960297,51989093,52018949,52088044,52092964,
        52213507,52396878,52402007,52424027,52487913,52504790,52595907,52650595,52708957,52735603,52760312,52943450,52974247,53025966,53144558,53314873,53325628,53362501,53382312,53464694,53630210,53698438,53708804,53720332,
        53847122,53885644,53913345,53920366,53963031,53970542,54047256,54085131,54100267,54188174,54344195,54470379,54473584,54567898,54574281,54644513,54699578,54772021,54776244,54860935,54886729,54902535,54965013,54967922,
        55130007,55138235,55153875,55160001,55205324,55214332,55331717,55367326,55380029,55406312,55429387,55448939,55460956,55493145,55505675,55508007,55557647,55612159,55675026,55764285,55784261,55798102,55808932,55829044,
        55840088,55927879,55987879,56136271,56137574,56205129,56240014,56253474,56329190,56341600,56345664,56358232,56441911,56462793,56477148,56631389,56644118,56677553,56677588,56755126,56783226,57040551,57083791,57086097,
        57108352,57126224,57134442,57259100,57278124,57366164,57390469,57463804,57467974,57522292,57536685,57585401,57586527,57642075,57649800,57736872,57811126,57819507,57835442,57873676,57930576,57998221,58038971,58057424,
        58079737,58181886,58185690,58270052,58276251,58319624,58321313,58358540,58452563,58556749,58572206,58655323,58683550,58789930,58805922,58841336,58899076,58974902,58977030,58989475,58991279,59011566,59032619,59093601,
        59103039,59137618,59149462,59262869,59314794,59565380,59791273,59804216,59834852,59880294,59943533,59969172,60060229,60063852,60142391,60198205,60369011,60394110,60417735,60427038,60466683,60508247,60528962,60551969,
        60568000,60611827,60673582,60679460,60754375,60765682,61005093,61156660,61318482,61335939,61377122,61477899,61503335,61640100,61673537,61721535,61730533,61801603,61825082,61921987,61944764,62034858,62054255,62258984,
        62270249,62377498,62408689,62436745,62488240,62629856,62635347,62789211,62859243,62905828,62923244,62950667,62987451,62990642,63030655,63042203,63103892,63132448,63136017,63388005,63392677,63414996,63532696,63554405,
        63575705,63670743,63814369,63830091,63838827,63846593,63880608,64030801,64041154,64191500,64253652,64293674,64338259,64378384,64395674,64399944,64469772,64569892,64638044,64640494,64680429,64692660,64727239,64760944,
        64834036,64862589,64882456,64883265,64962609,65011170,65016063,65069777,65135803,65149108,65209009,65335358,65409059,65412612,65488315,65516078,65538263,65633336,65659826,65670348,65694358,66067912,66084361,66150909,
        66167749,66191473,66192146,66229596,66243071,66264962,66296891,66300977,66386768,66400457,66440399,66449880,66497767,66505012,66527967,66607686,66625527,66672676,66745297,66775453,66869755,66882374,66896580,66906497,
        66912483,66945331,67066530,67128017,67160376,67166569,67191554,67317259,67360201,67360645,67372302,67375967,67435945,67456351,67491993,67525480,67603104,67767115,67791227,67856267,67878362,67914419,67916121,68030775,
        68032796,68034635,68080195,68098379,68136561,68193664,68204493,68315399,68358772,68384945,68469614,68558315,68638398,68798325,68808219,68844516,68864826,68903253,68914757,68926375,68963310,69023071,69055412,69067712,
        69170997,69190262,69222306,69228831,69293996,69384328,69387908,69410460,69440209,69442879,69483118,69550432,69651526,69708171,69787027,69816416,69852868,70017238,70201310,70225144,70228374,70284980,70357726,70377221,
        70382622,70425241,70464283,70556697,70631827,70645929,70714476,70719631,70759819,70767650,70800186,70803054,70904252,70970131,71040942,71050575,71124499,71158896,71201032,71275985,71277196,71379107,71442579,71450400,
        71636512,71671984,71775964,71899814,71976586,71977379,71992356,72047118,72087307,72148356,72235861,72273268,72291608,72292601,72292832,72298586,72335698,72352063,72359529,72395335,72399858,72477337,72502880,72554375,
        72567587,72682957,72758387,72772708,72910523,73032382,73046005,73180126,73209383,73272258,73351593,73363756,73378417,73379305,73383450,73586055,73587025,73630652,73651366,73710229,73741239,73747110,73832677,73856438,
        73866449,74020745,74110637,74117646,74199387,74302115,74340937,74445863,74451459,74470964,74495784,74495877,74527529,74529276,74555410,74658085,74677132,74683693,74689296,74861720,74919502,74971499,74971733,74997886,
        75012884,75068952,75142363,75154757,75278892,75360426,75392129,75394841,75474498,75476559,75497857,75504144,75531667,75554508,75599393,75609478,75663233,75675151,75708842,75725237,75752944,75800827,75811653,75833380,
        75854726,75872589,75877893,75949360,75959529,76002549,76027167,76042247,76294515,76489711,76530329,76652559,76672524,76673885,76698041,76821156,76827766,76830338,76889061,76951639,77016259,77021676,77118652,77167455,
        77167715,77178108,77188656,77195199,77196240,77280290,77284046,77344984,77640612,77642152,77696466,77778096,78059930,78167478,78315591,78363176,78423188,78586481,78592301,78665895,78727050,78728194,78735536,78766088,
        78935047,78944512,78984163,78999113,79015448,79056627,79102651,79118556,79135959,79162558,79169184,79254609,79273129,79289852,79293069,79324688,79390680,79421816,79451225,79493339,79499360,79504986,79650283,79678074,
        79704944,79786856,79812108,79827874,79832128,79835349,79863331,79957472,79998722,80101296,80109482,80111097,80152972,80183492,80183947,80210028,80273493,80282857,80329766,80346123,80371024,80407142,80417332,80445700,
        80507589,80599795,80731049,80781360,80928992,80953442,80966456,80997883,81050737,81146594,81159420,81159954,81172606,81202251,81239329,81365167,81430880,81496342,81570921,81590294,81618848,81636555,81661051,81704427,
        81723616,81732343,81822978,81855455,82014576,82021210,82023739,82087945,82112045,82166400,82235726,82246288,82308398,82407959,82423400,82537349,82544520,82682563,82798479,82843547,82864118,82937607,82997911,83055026,
        83118478,83121860,83199732,83209367,83230473,83238586,83238830,83324267,83397143,83421039,83457257,83466575,83469355,83494688,83520600,83546243,83555466,83568757,83655033,83733396,83880521,83945539,83965563,83971471,
        84087448,84090869,84099479,84100496,84137172,84190834,84201740,84235318,84263172,84264803,84392488,84443168,84563398,84628758,84665783,84670649,84789092,84794661,84798237,84922828,84974471,85000095,85008816,85015911,
        85030166,85045191,85063747,85078175,85106580,85136438,85145945,85160506,85161818,85162734,85165798,85165893,85183915,85189347,85195674,85221302,85224873,85245760,85252100,85358047,85384813,85416936,85535852,85624658,
        85734331,85787897,85847639,85893966,85941468,85948563,85966186,86057841,86164782,86214376,86230744,86251872,86308839,86319040,86424540,86467012,86514184,86544739,86614612,86626801,86692039,86711179,86711938,86787138,
        86839244,86890018,86894297,86910113,86935952,86968260,87013844,87018030,87071696,87096096,87151682,87174026,87214512,87301310,87348369,87461287,87480898,87482826,87507900,87514160,87561009,87635769,87642728,87706769,
        87711621,87791366,87831748,88025574,88136320,88169260,88234844,88290001,88308306,88462161,88558127,88589172,88593422,88601265,88605731,88607233,88617344,88651704,88811983,88848598,88867091,88881244,88992719,89019769,
        89122417,89132686,89181072,89211886,89254213,89275871,89297115,89362558,89368275,89380469,89400215,89401323,89548200,89607059,89642043,89662883,89701227,89731609,89826659,89868361,89875881,89981152,90007662,90149931,
        90153551,90180688,90227133,90265605,90462743,90484323,90540431,90544176,90550192,90686145,90839646,90902372,90962996,91017562,91029274,91035342,91074450,91081171,91335207,91406302,91435078,91492863,91552545,91554204,
        91631363,91669300,91784130,91829334,91832602,91838013,91903623,91932800,92222511,92272251,92359877,92365197,92369927,92403058,92430419,92474623,92553578,92602893,92603373,92635706,92700714,92703352,92716619,92813541,
        92900154,92915779,93031536,93160088,93177314,93179785,93321958,93347257,93363763,93571445,93583392,93603087,93605619,93621658,93661694,93669358,93708444,93811211,93881038,93938925,93950070,94011475,94029761,94187774,
        94197734,94211767,94214456,94309840,94338482,94360516,94372968,94374679,94379683,94457347,94527903,94701403,94769946,94789556,94812877,94845826,94886003,94936670,94954563,95080528,95119394,95128974,95168261,95207910,
        95210817,95237483,95356103,95368508,95481635,95596254,95675060,95709701,95796407,95824039,95839614,95867700,95876550,95916147,96034022,96053969,96149403,96166365,96242482,96448352,96524824,96630253,96630482,96637516,
        96648763,96661328,96670589,96732336,96792356,96978539,96988889,97000888,97043101,97139481,97148430,97174190,97273917,97284957,97459579,97494052,97633356,97646938,97669150,97683210,97683921,97703079,97849955,97950193,
        98020745,98026235,98054325,98057786,98080067,98236242,98244756,98267295,98268387,98453161,98460851,98612159,98652274,98657080,98678555,98736549,98802024,98833726,98952019,98986278,99007866,99008022,99011178,99049253,
        99144038,99182080,99198112,99290289,99308256,99517301,99606400,99621036,99847738,99880865,99954769,99987928}, 974014) << std::endl;
}
